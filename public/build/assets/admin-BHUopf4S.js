const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-misc-D2f3rC3k.js","assets/vendor-animations-RF5phH7_.js","assets/vendor-animations-Ca4kpcQi.css","assets/vendor-misc-CUhlH8ME.css","assets/vendor-datatables-BTS1ZkIN.js","assets/vendor-bootstrap-D4Km3HHX.js","assets/vendor-bootstrap-DmdsfhJ3.css","assets/vendor-editor-_kivzRYW.js","assets/vendor-editor-CRpHDObv.css","assets/vendor-calendar-BVZvgYB8.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./alpine-utils-Cv26Oc7_.js";import{b as t}from"./vendor-misc-D2f3rC3k.js";import"./vendor-animations-RF5phH7_.js";let a=null;const s={defaultConfig:{create:!1,sortField:"text",searchField:"text",valueField:"value",labelField:"text",placeholder:"Select an option",allowEmptyOption:!0,closeAfterSelect:!0,hideSelected:!0,highlight:!0,loadingClass:"loading",noResultsText:"No results found",noResultsLoadingText:"Searching...",dropdownParent:"body",controlInput:null,render:{no_results:function(e,t){return'<div class="no-results">No results found for "'+t(e.input)+'"</div>'},loading:function(){return'<div class="loading">Searching...</div>'}}},ajaxConfig:{url:"",method:"GET",params:{},headers:{},processResults:function(e){return{results:e.data||e,pagination:e.pagination||{}}},cache:!1},async init(t,s={}){if(!a)try{const t=await e(()=>import("./vendor-misc-D2f3rC3k.js").then(e=>e.t),__vite__mapDeps([0,1,2,3]));a=t.default}catch(i){return this.initNativeSelect(t,s)}const r=document.querySelectorAll(t),n=[];return r.forEach(e=>{e.tomselect&&e.tomselect.destroy();const r={...this.defaultConfig,...s};r.url&&(r.load=(e,t)=>{this.loadAjaxData(e,r,t)});try{const t=new a(e,r);e.tomselect=t,n.push(t)}catch(i){this.initNativeSelect(t,s)}}),n},initNativeSelect:(e,t={})=>(document.querySelectorAll(e).forEach(e=>{e.classList.add("modern-select-native"),e.style.width="100%",e.style.padding="8px 12px",e.style.border="1px solid #d1d5db",e.style.borderRadius="6px",e.style.backgroundColor="#fff"}),[]),async loadAjaxData(e,t,a){try{const s={...t.ajaxConfig.params,q:e,page:1},r=new URL(t.ajaxConfig.url);Object.keys(s).forEach(e=>r.searchParams.append(e,s[e]));const n=await fetch(r,{method:t.ajaxConfig.method,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",...t.ajaxConfig.headers}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();a(t.ajaxConfig.processResults(i).results)}catch(s){a([])}},initWithTemplate(e,t,a={}){const s={...this.defaultConfig,...a,render:{...this.defaultConfig.render,...t}};return this.init(e,s)},destroy(e){document.querySelectorAll(e).forEach(e=>{e.tomselect&&(e.tomselect.destroy(),e.tomselect=null)})},getInstance(e){const t=document.querySelector(e);return(null==t?void 0:t.tomselect)||null}};window.modernSelect=s,window.modernSelectComponent=()=>({selector:"",config:{},instance:null,isLoading:!1,searchQuery:"",init(){this.selector=this.$el.getAttribute("data-selector")||".modern-select",this.config=this.getConfig(),this.$nextTick(()=>{this.initializeSelect()})},getConfig(){const e={placeholder:this.$el.getAttribute("data-placeholder")||"Select an option",url:this.$el.getAttribute("data-url")||null,multiple:this.$el.hasAttribute("data-multiple"),searchable:!this.$el.hasAttribute("data-no-search"),clearable:this.$el.hasAttribute("data-clearable")};return e.url&&(e.ajaxConfig={url:e.url,method:"GET",processResults:e=>({results:e.data||e,pagination:e.pagination||{}})}),e},initializeSelect(){try{const e=s.init(this.selector,this.config);this.instance=e[0],this.instance&&this.setupEventListeners()}catch(e){}},setupEventListeners(){this.instance&&(this.instance.on("loading",()=>{this.isLoading=!0}),this.instance.on("loaded",()=>{this.isLoading=!1}),this.instance.on("change",e=>{this.$dispatch("select-changed",{value:e,instance:this.instance})}),this.instance.on("search",e=>{this.searchQuery=e,this.$dispatch("select-search",{query:e,instance:this.instance})}))},addOption(e){this.instance&&this.instance.addOption(e)},addOptions(e){this.instance&&this.instance.addOptions(e)},setValue(e){this.instance&&this.instance.setValue(e)},getValue(){var e;return(null==(e=this.instance)?void 0:e.getValue())||null},clear(){this.instance&&this.instance.clear()},enable(){this.instance&&this.instance.enable()},disable(){this.instance&&this.instance.disable()},destroy(){this.instance&&(this.instance.destroy(),this.instance=null)}});const r={defaults:{timeout:3e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}},getCSRFToken(){const e=document.querySelector('meta[name="csrf-token"]');return e?e.getAttribute("content"):null},setupDefaults(){const e=this.getCSRFToken();e&&(t.defaults.headers.common["X-CSRF-TOKEN"]=e),t.defaults.timeout=this.defaults.timeout,Object.assign(t.defaults.headers.common,this.defaults.headers)},async get(e,a={}){try{this.setupDefaults();const s=await t.get(e,a);return{success:!0,data:s.data,status:s.status,headers:s.headers}}catch(s){return this.handleError(s)}},async post(e,a={},s={}){try{this.setupDefaults();const r=await t.post(e,a,s);return{success:!0,data:r.data,status:r.status,headers:r.headers}}catch(r){return this.handleError(r)}},async put(e,a={},s={}){try{this.setupDefaults();const r=await t.put(e,a,s);return{success:!0,data:r.data,status:r.status,headers:r.headers}}catch(r){return this.handleError(r)}},async delete(e,a={}){try{this.setupDefaults();const s=await t.delete(e,a);return{success:!0,data:s.data,status:s.status,headers:s.headers}}catch(s){return this.handleError(s)}},async patch(e,a={},s={}){try{this.setupDefaults();const r=await t.patch(e,a,s);return{success:!0,data:r.data,status:r.status,headers:r.headers}}catch(r){return this.handleError(r)}},handleError(e){var t;return e.response?{success:!1,error:(null==(t=e.response.data)?void 0:t.message)||"Server error",status:e.response.status,data:e.response.data}:e.request?{success:!1,error:"Network error - no response received",status:0,data:null}:{success:!1,error:e.message||"Unknown error",status:0,data:null}},async uploadFile(e,a,s=null,r={}){try{this.setupDefaults();const n=new FormData;n.append("file",a);const i={...r,headers:{"Content-Type":"multipart/form-data",...r.headers},onUploadProgress:e=>{if(s){const t=Math.round(100*e.loaded/e.total);s(t)}}},o=await t.post(e,n,i);return{success:!0,data:o.data,status:o.status}}catch(n){return this.handleError(n)}},async batch(e){try{this.setupDefaults();return(await Promise.allSettled(e)).map((e,t)=>"fulfilled"===e.status?{success:!0,data:e.value.data,status:e.value.status}:this.handleError(e.reason))}catch(t){return this.handleError(t)}}};window.ajaxUtils=r,window.ajaxComponent=()=>({isLoading:!1,error:null,data:null,async request(e,t,a=null,s={}){this.isLoading=!0,this.error=null,this.data=null;try{let n;switch(e.toLowerCase()){case"get":n=await r.get(t,s);break;case"post":n=await r.post(t,a,s);break;case"put":n=await r.put(t,a,s);break;case"delete":n=await r.delete(t,s);break;case"patch":n=await r.patch(t,a,s);break;default:throw new Error(`Unsupported HTTP method: ${e}`)}return n.success?(this.data=n.data,this.$dispatch("ajax-success",n)):(this.error=n.error,this.$dispatch("ajax-error",n)),n}catch(n){return this.error=n.message,this.$dispatch("ajax-error",{error:n.message}),{success:!1,error:n.message}}finally{this.isLoading=!1}},async get(e,t={}){return this.request("GET",e,null,t)},async post(e,t={},a={}){return this.request("POST",e,t,a)},async put(e,t={},a={}){return this.request("PUT",e,t,a)},async delete(e,t={}){return this.request("DELETE",e,null,t)},async patch(e,t={},a={}){return this.request("PATCH",e,t,a)}});const n={errors:{required:"This field is required.",email:"Please enter a valid email address.",captcha:"Captcha invalid.",max:"Number should be less than or equal to",min:"This field should be greater than or equal to",equal:"This field should be equal to"},rules:{required:e=>e&&e.trim().length>0,email:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),min:(e,t)=>parseFloat(e)>=parseFloat(t),max:(e,t)=>parseFloat(e)<=parseFloat(t),equal:(e,t)=>e===t,phone:e=>/^[\+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),url:e=>/^https?:\/\/.+/.test(e)},validateField(e){var t;const a=e.value,s=(null==(t=e.getAttribute("data-valid"))?void 0:t.split(" "))||[],r=[];for(const n of s){const[e,t]=n.split(":");this.rules[e]&&!this.rules[e](a,t)&&r.push(this.getErrorMessage(e,t))}return{isValid:0===r.length,errors:r}},getErrorMessage(e,t){switch(e){case"required":return this.errors.required;case"email":return this.errors.email;case"min":return`${this.errors.min} ${t}`;case"max":return`${this.errors.max} ${t}`;case"equal":return`${this.errors.equal} ${t}`;default:return"Invalid input"}},showFieldError(e,t){this.clearFieldError(e);const a=document.createElement("div");a.className="custom-error text-red-500 text-sm mt-1",a.textContent=t,e.parentNode.insertBefore(a,e.nextSibling),e.classList.add("border-red-500","focus:ring-red-500")},clearFieldError(e){const t=e.parentNode.querySelector(".custom-error");t&&t.remove(),e.classList.remove("border-red-500","focus:ring-red-500")},validateForm(e){const t=document.querySelector(`form[name="${e}"]`);if(!t)return!1;const a=t.querySelectorAll("[data-valid]");let s=!0,r=null;t.querySelectorAll(".custom-error").forEach(e=>e.remove()),t.querySelectorAll("input, select, textarea").forEach(e=>{e.classList.remove("border-red-500","focus:ring-red-500")});for(const n of a){const e=this.validateField(n);e.isValid||(s=!1,r||(r=n),e.errors.forEach(e=>{this.showFieldError(n,e)}))}return r&&r.focus(),s},init(e){const t=document.querySelector(`form[name="${e}"]`);t&&t.querySelectorAll("[data-valid]").forEach(e=>{e.addEventListener("blur",()=>{const t=this.validateField(e);t.isValid?this.clearFieldError(e):this.showFieldError(e,t.errors[0])}),e.addEventListener("input",()=>{this.clearFieldError(e)})})}};window.formValidation=n,window.formValidationComponent=()=>({formName:"",isValid:!1,errors:{},init(){this.formName=this.$el.getAttribute("data-form-name")||"",this.formName&&n.init(this.formName)},validate(){return this.isValid=n.validateForm(this.formName),this.isValid},validateField(e){const t=n.validateField(e);return t.isValid?n.clearFieldError(e):n.showFieldError(e,t.errors[0]),t.isValid}});document.addEventListener("DOMContentLoaded",async function(){const t=[];document.querySelector(".datatable, table[data-datatable]")&&t.push("datatables"),document.querySelector(".modern-select, select[data-modern-select]")&&t.push("tom-select"),document.querySelector(".summernote, textarea[data-summernote]")&&t.push("summernote"),document.querySelector("#calendar, .calendar")&&t.push("fullcalendar"),document.querySelector(".datepicker, input[data-datepicker]")&&t.push("datepicker");try{const a=await(async(t=[])=>{const a={};for(const r of t)try{switch(r){case"datatables":const{default:t}=await e(async()=>{const{default:e}=await import("./vendor-datatables-BTS1ZkIN.js");return{default:e}},__vite__mapDeps([4,0,1,2,3])),{default:s}=await e(async()=>{const{default:e}=await import("./vendor-bootstrap-D4Km3HHX.js").then(e=>e.a);return{default:e}},__vite__mapDeps([5,0,1,2,3,4,6]));e(()=>import("./vendor-bootstrap-D4Km3HHX.js").then(e=>e.d),__vite__mapDeps([5,0,1,2,3,4,6])),a.datatables={DataTables:t,DataTablesBootstrap:s};break;case"tom-select":const r=await e(()=>import("./vendor-misc-D2f3rC3k.js").then(e=>e.t),__vite__mapDeps([0,1,2,3]));e(()=>import("./vendor-misc-D2f3rC3k.js").then(e=>e.f),__vite__mapDeps([0,1,2,3])),a.tomSelect=r.default;break;case"summernote":const{default:n}=await e(async()=>{const{default:e}=await import("./vendor-editor-_kivzRYW.js").then(e=>e.s);return{default:e}},__vite__mapDeps([7,0,1,2,3,8]));e(()=>import("./vendor-editor-_kivzRYW.js").then(e=>e.a),__vite__mapDeps([7,0,1,2,3,8])),a.summernote=n;break;case"fullcalendar":const{Calendar:i}=await e(async()=>{const{Calendar:e}=await import("./vendor-calendar-BVZvgYB8.js").then(e=>e.c);return{Calendar:e}},__vite__mapDeps([9,0,1,2,3])),o=await e(()=>import("./vendor-calendar-BVZvgYB8.js").then(e=>e.d),__vite__mapDeps([9,0,1,2,3])),l=await e(()=>import("./vendor-calendar-BVZvgYB8.js").then(e=>e.e),__vite__mapDeps([9,0,1,2,3])),d=await e(()=>import("./vendor-calendar-BVZvgYB8.js").then(e=>e.f),__vite__mapDeps([9,0,1,2,3]));a.fullcalendar={Calendar:i,dayGridPlugin:o,timeGridPlugin:l,interactionPlugin:d};break;case"datepicker":const{default:c}=await e(async()=>{const{default:e}=await import("./vendor-bootstrap-D4Km3HHX.js").then(e=>e.b);return{default:e}},__vite__mapDeps([5,0,1,2,3,4,6]));e(()=>import("./vendor-bootstrap-D4Km3HHX.js").then(e=>e.c),__vite__mapDeps([5,0,1,2,3,4,6])),a.datepicker=c}}catch(s){}return a})(t);if(await((e=[])=>{const t=["/js/app.min.js","/js/daterangepicker.js","/js/bootstrap-timepicker.min.js","/js/bootstrap-formhelpers.min.js","/js/intlTelInput.js"].filter(t=>0===e.length||e.some(e=>t.includes(e)));return Promise.all(t.map(e=>new Promise((t,a)=>{const s=document.createElement("script");s.src=e,s.onload=t,s.onerror=a,document.head.appendChild(s)})))})(t),a.datatables&&window.$&&window.$.fn&&window.$.fn.DataTable&&(window.$.extend(window.$.fn.dataTable.defaults,{responsive:!0,processing:!0,serverSide:!1,deferRender:!0,scroller:{loadingIndicator:!0},dom:"lfrtip",language:{processing:"Loading...",emptyTable:"No data available"}}),$(".datatable, table[data-datatable]").DataTable()),a.tomSelect&&s.init(".modern-select, select[data-modern-select]",{placeholder:"Select an option",allowEmptyOption:!0,closeAfterSelect:!0,hideSelected:!0}).catch(e=>{}),a.summernote&&window.$&&window.$.fn&&window.$.fn.summernote&&$(".summernote, textarea[data-summernote]").summernote({height:300,minHeight:200,maxHeight:500,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]]}),a.fullcalendar){const{Calendar:e,dayGridPlugin:t,timeGridPlugin:s,interactionPlugin:r}=a.fullcalendar,n=document.getElementById("calendar");if(n){new e(n,{plugins:[t.default,s.default,r.default],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialDate:new Date,navLinks:!0,editable:!0,eventLimit:!0}).render()}}a.datepicker&&window.$&&window.$.fn&&window.$.fn.datepicker&&$(".datepicker, input[data-datepicker]").datepicker({format:"yyyy-mm-dd",autoclose:!0,todayHighlight:!0}),window.performance&&window.performance.mark&&window.performance.mark("admin-bundle-loaded")}catch(a){}}),window.AdminBundle={initialized:!0,version:"2.0.0"};
